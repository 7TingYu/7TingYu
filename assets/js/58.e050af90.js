(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{650:function(t,v,_){"use strict";_.r(v);var s=_(23),e=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"_12-怎么定义动态路由-怎么获取传过来的动态参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_12-怎么定义动态路由-怎么获取传过来的动态参数"}},[t._v("#")]),t._v(" 12 - 怎么定义动态路由？怎么获取传过来的动态参数？")]),t._v(" "),_("p",[_("strong",[t._v("分析")])]),t._v(" "),_("p",[t._v("API题目，考查基础能力，不容有失，尽可能说的详细。")]),t._v(" "),_("p",[_("strong",[t._v("思路")])]),t._v(" "),_("ol",[_("li",[t._v("什么是动态路由")]),t._v(" "),_("li",[t._v("什么时候使用动态路由，怎么定义动态路由")]),t._v(" "),_("li",[t._v("参数如何获取")]),t._v(" "),_("li",[t._v("细节、注意事项")])]),t._v(" "),_("p",[_("strong",[t._v("回答范例")])]),t._v(" "),_("ol",[_("li",[t._v("很多时候，我们需要将给定匹配模式的路由映射到同一个组件，这种情况就需要定义动态路由。")]),t._v(" "),_("li",[t._v("例如，我们可能有一个  User  组件，它应该对所有用户进行渲染，但用户 ID 不同。在 Vue Router 中，我们\n可以在路径中使用一个动态字段来实现，例如：{ path: '/users/:id', component: User } ，其中\n:id 就是路径参数")]),t._v(" "),_("li",[t._v("路径参数 用冒号  :  表示。当一个路由被匹配时，它的 params 的值将在每个组件中以\nthis.$route.params  的形式暴露出来。")]),t._v(" "),_("li",[t._v("参数还可以有多个，例如/users/:username/posts/:postId ；除了  $route.params  之外，$route  对\n象还公开了其他有用的信息，如  $route.query 、$route.hash  等。")])]),t._v(" "),_("p",[_("strong",[t._v("可能的追问")])]),t._v(" "),_("ol",[_("li",[_("p",[t._v("如何响应动态路由参数的变化")]),t._v(" "),_("p",[t._v("https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96")])]),t._v(" "),_("li",[_("p",[t._v("我们如何处理404 Not Found路由")]),t._v(" "),_("p",[t._v("https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E6%8D%95%E8%8E%B7%E6%89%80%E6%9C%89%E8%B7%AF%E7%94%B1%E6%88%96-404-not-found-%E8%B7%AF%E7%94%B1")])])]),t._v(" "),_("h2",{attrs:{id:"_13-如果让你从零开始写一个vue路由-说说你的思路"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_13-如果让你从零开始写一个vue路由-说说你的思路"}},[t._v("#")]),t._v(" 13-如果让你从零开始写一个vue路由，说说你的思路")]),t._v(" "),_("p",[_("strong",[t._v("思路分析：")])]),t._v(" "),_("p",[t._v("首先思考vue路由要解决的问题：用户点击跳转链接内容切换，⻚面不刷新。")]),t._v(" "),_("ul",[_("li",[t._v("借助hash或者history api实现url跳转⻚面不刷新")]),t._v(" "),_("li",[t._v("同时监听hashchange事件或者popstate事件处理跳转")]),t._v(" "),_("li",[t._v("根据hash值或者state值从routes表中匹配对应component并渲染之")])]),t._v(" "),_("p",[_("strong",[t._v("回答范例：")])]),t._v(" "),_("p",[t._v("一个SPA应用的路由需要解决的问题是⻚面跳转内容改变同时不刷新，同时路由还需要以插件形式存在，所以：")]),t._v(" "),_("ol",[_("li",[t._v("首先我会定义一个createRouter 函数，返回路由器实例，实例内部做几件事：\n"),_("ul",[_("li",[t._v("保存用户传入的配置项")]),t._v(" "),_("li",[t._v("监听hash或者popstate事件")]),t._v(" "),_("li",[t._v("回调里根据path匹配对应路由")])])]),t._v(" "),_("li",[t._v("将router定义成一个Vue插件，即实现install方法，内部做两件事：\n"),_("ul",[_("li",[t._v("实现两个全局组件：router-link和router-view，分别实现⻚面跳转和内容显示")]),t._v(" "),_("li",[t._v("定义两个全局变量：$route和$router，组件内可以访问当前路由和路由器实例")])])])]),t._v(" "),_("p",[_("strong",[t._v("知其所以然：")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("createRouter如何创建实例")]),t._v(" "),_("p",[t._v("https://github1s.com/vuejs/router/blob/HEAD/src/router.ts#L355-L356")])]),t._v(" "),_("li",[_("p",[t._v("事件监听")]),t._v(" "),_("p",[t._v("https://github1s.com/vuejs/router/blob/HEAD/src/history/html5.ts#L314-L315")])]),t._v(" "),_("li",[_("p",[t._v("⻚面跳转RouterLink")]),t._v(" "),_("p",[t._v("https://github1s.com/vuejs/router/blob/HEAD/src/RouterLink.ts#L184-L185")])]),t._v(" "),_("li",[_("p",[t._v("内容显示RouterView")]),t._v(" "),_("p",[t._v("https://github1s.com/vuejs/router/blob/HEAD/src/RouterView.ts#L43-L44")])])])])}),[],!1,null,null,null);v.default=e.exports}}]);