(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{733:function(e,t,s){"use strict";s.r(t);var r=s(23),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"学习方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#学习方法"}},[e._v("#")]),e._v(" 学习方法")]),e._v(" "),s("p",[s("strong",[e._v("单步调试")])]),e._v(" "),s("p",[s("strong",[e._v("提出问题")])]),e._v(" "),s("p",[s("strong",[e._v("package.json 分析入口")])]),e._v(" "),s("p",[s("strong",[e._v("利用调用栈（call stack）")])]),e._v(" "),s("p",[s("strong",[e._v("搜索方法 ctrl + t")])]),e._v(" "),s("h2",{attrs:{id:"package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[e._v("#")]),e._v(" package.json")]),e._v(" "),s("p",[e._v("package.json")]),e._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"node scripts/dev.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("scripts\\dev.js")]),e._v(" "),s("p",[e._v("这里我看到的版本与原先的rollup不同，新dev改用exbuild打包")]),e._v(" "),s("p",[e._v("在这里做简单的导图")]),e._v(" "),s("ul",[s("li",[e._v("scripts/dev.js")]),e._v(" "),s("li",[e._v("rollup.config.js\n"),s("ul",[s("li",[e._v("packages 目录")]),e._v(" "),s("li",[e._v("打包格式\n"),s("ul",[s("li",[e._v("cjs")]),e._v(" "),s("li",[e._v("es")]),e._v(" "),s("li",[e._v("iife")])])]),e._v(" "),s("li",[e._v("entryFile\n"),s("ul",[s("li",[e._v("packages/vue/src/index.ts")])])])])]),e._v(" "),s("li",[e._v("入口文件的作用")])]),e._v(" "),s("h2",{attrs:{id:"整体流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#整体流程"}},[e._v("#")]),e._v(" 整体流程")]),e._v(" "),s("ul",[s("li",[e._v("createApp -- packages\\runtime-dom\\src\\index.ts")]),e._v(" "),s("li",[e._v("createRenderer -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("createAppApi -- packages\\runtime-core\\src\\apiCreateApp.ts")]),e._v(" "),s("li",[e._v("mount -- packages\\runtime-core\\src\\apiCreateApp.ts")]),e._v(" "),s("li",[e._v("render -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("patch -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("processComponent -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("mountComponent -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("setupComponent -- packages\\runtime-core\\src\\renderer.ts")]),e._v(" "),s("li",[e._v("setupStatefulComponent -- packages\\runtime-core\\src\\component.ts")]),e._v(" "),s("li",[e._v("setup -- packages\\runtime-core\\src\\component.ts")]),e._v(" "),s("li",[e._v("handleSetupResult -- packages\\runtime-core\\src\\component.ts")]),e._v(" "),s("li",[e._v("finishComponentSetup -- packages\\runtime-core\\src\\component.ts\n"),s("ul",[s("li",[e._v("instance.render")]),e._v(" "),s("li",[e._v("applyOptions")])])]),e._v(" "),s("li",[e._v("setupRenderEffect -- packages\\runtime-core\\src\\renderer.ts\n"),s("ul",[s("li",[e._v("componentUpdateFn")]),e._v(" "),s("li",[e._v("new ReactiveEffect")]),e._v(" "),s("li",[e._v("update()")])])])]),e._v(" "),s("h2",{attrs:{id:"课后问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#课后问题"}},[e._v("#")]),e._v(" 课后问题")]),e._v(" "),s("h3",{attrs:{id:"入口文件的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#入口文件的作用"}},[e._v("#")]),e._v(" 入口文件的作用")]),e._v(" "),s("p",[e._v("声明了 compileToFunction\n输出依赖包")]),e._v(" "),s("h3",{attrs:{id:"compiletofunction-何时调用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compiletofunction-何时调用"}},[e._v("#")]),e._v(" compileToFunction 何时调用")]),e._v(" "),s("p",[e._v("结束组件安装时")]),e._v(" "),s("h3",{attrs:{id:"组件挂载-mountcomponent-都做了什么事"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件挂载-mountcomponent-都做了什么事"}},[e._v("#")]),e._v(" 组件挂载（mountComponent）都做了什么事")]),e._v(" "),s("ul",[s("li",[e._v("挂载只执行一次")]),e._v(" "),s("li",[e._v("初始化\n"),s("ul",[s("li",[e._v("看到第一次渲染结果")])])]),e._v(" "),s("li",[e._v("建立更新机制")])])])}),[],!1,null,null,null);t.default=a.exports}}]);